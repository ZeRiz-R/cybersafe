[gd_resource type="Resource" script_class="EmailDecision" load_steps=11 format=3 uid="uid://cxo46nxn4amoo"]

[ext_resource type="Script" uid="uid://h44bcugrvwau" path="res://choice.gd" id="1_cpsxq"]
[ext_resource type="Script" uid="uid://dy6myhclbmobp" path="res://email_decision.gd" id="2_asqul"]
[ext_resource type="Script" uid="uid://dy4cqea4brkbi" path="res://email.gd" id="2_pp2nq"]
[ext_resource type="Script" uid="uid://tfgm3dvhdk1j" path="res://ignore_event.gd" id="2_wdytu"]
[ext_resource type="Script" uid="uid://dsninvxrte1n7" path="res://ignore_choice.gd" id="3_5eojm"]

[sub_resource type="Resource" id="Resource_wdytu"]
resource_name = "Follow"
script = ExtResource("1_cpsxq")
id = ""
text = "Follow the instructions and submit details"
outcomeText = Array[String](["Oh no!", "That email was not from the legitimate university domain.", "The link took you to a fraudulent website that imitated the real one.", "Your personal information has been acquired by data thieves!"])
meterChanges = {
"CK": {
"Reason": "PHISHING EMAIL NOT IDENTIFIED",
"Value": -10
},
"DH": {
"Reason": "RISK OF MALWARE",
"Value": -5
},
"DS": {
"Reason": "LOSS OF PERSONAL INFORMATION",
"Value": -15
},
"S": {
"Reason": "MISTAKE",
"Value": 10
},
"ST": {
"Reason": "",
"Value": 0
}
}
metadata/_custom_type_script = "uid://h44bcugrvwau"

[sub_resource type="Resource" id="Resource_l1d2h"]
resource_name = "Report"
script = ExtResource("1_cpsxq")
id = ""
text = "Report the email. It seems suspicious."
outcomeText = Array[String](["Nice catch!", "The sender address and link use an imitation of the real university domain.", "Reporting this email may help other students avoid danger too!"])
meterChanges = {
"CK": {
"Reason": "IDENTIFIED PHISHING EMAIL",
"Value": 15
},
"DH": {
"Reason": "",
"Value": 0
},
"DS": {
"Reason": "PROTECTED PERSONAL INFORMATION",
"Value": 10
},
"S": {
"Reason": "HERO",
"Value": -5
},
"ST": {
"Reason": "PREVENTED DANGER FOR PEERS",
"Value": 5
}
}
metadata/_custom_type_script = "uid://h44bcugrvwau"

[sub_resource type="Resource" id="Resource_ss8fv"]
script = ExtResource("2_wdytu")
outcomeText = Array[String](["Time to follow up on that registration email you avoided!", "I just got a message from IT.", "Turns out they've flagged it as a phishing email.", "Good job avoiding it!", "Other students seem to have fallen for it before it got reported.", "Perhaps you could have helped?"])
id = ""
date = Vector2i(1, 3)
metadata/_custom_type_script = "uid://tfgm3dvhdk1j"

[sub_resource type="Resource" id="Resource_8ljnv"]
resource_name = "Ignore"
script = ExtResource("3_5eojm")
followUp = SubResource("Resource_ss8fv")
id = ""
text = "Ignore the email."
outcomeText = Array[String](["Not even worth of a response, huh?", "Well, we'll get back to this one soon enough!"])
meterChanges = {
"CK": {
"Reason": "AVOIDED PHISHING EMAIL",
"Value": 5
},
"DH": {
"Reason": "",
"Value": 0
},
"DS": {
"Reason": "AVOIDED PERSONAL INFORMATION LOSS",
"Value": 5
},
"S": {
"Reason": "",
"Value": 0
},
"ST": {
"Reason": "OTHER STUDENTS IN DANGER",
"Value": -5
}
}
metadata/_custom_type_script = "uid://dsninvxrte1n7"

[sub_resource type="Resource" id="Resource_5eojm"]
script = ExtResource("2_pp2nq")
sender = "administration@warvvick.ac.uk"
title = "Registration Details"
body = "Dear student,

We are excited to welcome you to Warwick! In order to proceed with your registration, you must submit additional details to our administration team for processing. Please proceed to [hint=https://warvvick.ac.uk/undergraduates/registration][color={link}]https://warvvick.ac.uk/undergraduates/registration[/color][/hint] to submit your details.
We hope you enjoy your time at this wonderful university!

Kind regards,
Warwick Administration"
metadata/_custom_type_script = "uid://dy4cqea4brkbi"

[resource]
script = ExtResource("2_asqul")
email = SubResource("Resource_5eojm")
choices = Array[ExtResource("1_cpsxq")]([SubResource("Resource_wdytu"), SubResource("Resource_l1d2h"), SubResource("Resource_8ljnv")])
prompt = "Looks like you've received an email!"
tip = "Always check email addresses and URLs for slight differences!"
id = ""
date = Vector2i(1, 1)
metadata/_custom_type_script = "uid://dy6myhclbmobp"
